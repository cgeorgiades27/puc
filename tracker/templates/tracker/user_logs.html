{% extends 'tracker/base.html' %}
{% block content %}
<br>
<h4><strong>Logs for: {{ user.user__username }}</strong></h4>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Type');
        data.addColumn('number', 'Total');

        {% for x in todayTotal %}
        data.addRows([['{{ x.workout_title__workout_title }}', {{ x.total }}]]);
    {% endfor %}

    var options = {
        title: 'Totals for Today:',
        width: 700,
        height: 500,
        pieHole: 0.4
    };

    var chart = new google.visualization.PieChart(document.getElementById('chart_div1'));
    chart.draw(data, options);
          }
</script>

<div id="chart_div1"></div>

<h5><strong>Completed Today:</strong></h5>
<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
    <tr>
        <th class="mdl-data-table__cell--non-numeric">Type</th>
        <th>Total Reps</th>
    </tr>
    {% for x in todayTotal %}
    <tr>
        <td class="mdl-data-table__cell--non-numeric">{{ x.workout_title__workout_title }}</td>
        <td>{{ x.total }}</td>
    </tr>
    {% endfor %}
</table>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Type');
        data.addColumn('number', 'Total');

        {% for x in allTotal %}
        data.addRows([['{{ x.workout_title__workout_title }}', {{ x.total }}]]);
    {% endfor %}

    var options = {
        title: 'All Totals:',
        width: 700,
        height: 500,
        pieHole: 0.4
    };

    var chart = new google.visualization.PieChart(document.getElementById('chart_div2'));
    chart.draw(data, options);
          }
</script>

<div id="chart_div2"></div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

    google.charts.load('current', { 'packages': ['table'] });
    google.charts.setOnLoadCallback(drawTable);

    function drawTable() {
        var data = new google.visualization.DataTable();
        //data.addColumn('date', 'Date');
        data.addColumn('string', 'Type');
        data.addColumn('number', 'Weight');
        data.addColumn('number', 'Sets');
        data.addColumn('number', 'Reps');
        data.addColumn('number', 'Total');

        {% for x in userLogs50 %}
        
        data.addRows([
            [
                //new Date({{ x.date_entered }}),
                '{{ x.workout_title }}',
                {{ x.totalWeight }},
                {{ x.sets }},
                {{ x.reps }},
                {{ x.total }}
            ]
        ]);

        {% endfor %}

    var table = new google.visualization.Table(document.getElementById('user_table1'));
    table.draw(data, { showRowNumber: false, width: '50%', height: '25%' });
    }

</script>

<div id="user_table1"></div>

<h5><strong>Last 50 Records:</strong></h5>
<p>See all <a href="{% url 'all_user_logs' user_id=user_id %}">here</a>.</p>
<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
    <tr>
        <th class="mdl-data-table__cell--non-numeric">Date</th>
        <th class="mdl-data-table__cell--non-numeric">Type</th>
        <th class="mdl-data-table__cell--numeric">Weight</th>
        <th>Sets</th>
        <th>Reps</th>
        <th>Total Reps</th>
        <th>Total Weight</th>
    </tr>
    {% for x in userLogs50 %}
    <tr>
        <td class="mdl-data-table__cell--non-numeric">{{ x.date_completed }}</td>
        <td class="mdl-data-table__cell--non-numeric">{{ x.workout_title }}</td>
        <td>{{ x.weight }}</td>
        <td>{{ x.sets }}</td>
        <td>{{ x.reps }}</td>
        <td>{{ x.total }}</td>
        <td>{{ x.totalWeight }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}