{% extends 'tracker/base.html' %}
{% block content %}

<p><strong>Today's Totals:</strong></p>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Type');
        data.addColumn('number', 'Total');

        {% for x in todayTotal %}
            data.addRows([['{{ x.workout_title__workout_title }}', {{ x.total }}]]);
        {% endfor %}

    var options = {
        'title': 'Distribution',
        'width': 400,
        'height': 300
    };
    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div1'));
    chart.draw(data, options);
          }
</script>

<div id="chart_div1"></div>

<p><strong>All Records:</strong></p>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">

    google.charts.load('current', { 'packages': ['corechart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Type');
        data.addColumn('number', 'Total');

        {% for x in allTotal %}
            data.addRows([['{{ x.workout_title__workout_title }}', {{ x.total }}]]);
        {% endfor %}

    var options = {
        'title': 'Distribution',
        'width': 400,
        'height': 300
    };
    // Instantiate and draw our chart, passing in some options.
    var chart = new google.visualization.PieChart(document.getElementById('chart_div2'));
    chart.draw(data, options);
          }
</script>

<div id="chart_div2"></div>

<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
    <tr>
        <th class="mdl-data-table__cell--non-numeric">Date</th>
        <th class="mdl-data-table__cell--non-numeric">Type</th>
        <th class="mdl-data-table__cell--numeric">Weight</th>
        <th>Sets</th>
        <th>Reps</th>
        <th>Total</th>
    </tr>
    {% for x in userLogs %}
    <tr>
        <td class="mdl-data-table__cell--non-numeric">{{ x.date_completed }}</td>
        <td class="mdl-data-table__cell--non-numeric">{{ x.workout_title }}</td>
        <td>{{ x.weight }}</td>
        <td>{{ x.sets }}</td>
        <td>{{ x.reps }}</td>
        <td>{{ x.total }}</td>
    </tr>
    {% endfor %}
</table>


{% endblock %}